# ============================================================================
# CORTIWARE - ENVIRONMENT VARIABLES TEMPLATE
# ============================================================================
# Product: Cortiware (formerly StreamFlow/WorkStream)
# Company: Robinson AI Systems
#
# This file explains ALL environment variables organized by:
# - Who needs them (Provider/Developer vs Client)
# - When they're used (Development vs Production)
# - What they control (Authentication, Services, Features)
#
# Copy this to .env and fill in your actual values
# ============================================================================

# ============================================================================
# CATEGORY 1: PROVIDER-SIDE (System Administration)
# ============================================================================
# These are for YOU (the provider/developer) to access system administration
# Client tenants will NEVER see or use these

# --- Provider Account (Your Main Admin Account) ---
PROVIDER_USERNAME="chris.tcr.2012@gmail.com"
PROVIDER_PASSWORD="‚ö†Ô∏èCHANGE-THIS-TO-STRONG-PASSWORD‚ö†Ô∏è"

# --- Provider Breakglass (Emergency Recovery) ---
# Use DIFFERENT password - only for emergencies when main system is down
PROVIDER_BREAKGLASS_EMAIL="emergency-provider@company.com"
PROVIDER_BREAKGLASS_PASSWORD="‚ö†Ô∏èDIFFERENT-STRONG-PASSWORD‚ö†Ô∏è"

# --- Developer Account (Your Development Access) ---
DEVELOPER_USERNAME="gametcr3@gmail.com"
DEVELOPER_PASSWORD="‚ö†Ô∏èCHANGE-THIS-TO-STRONG-PASSWORD‚ö†Ô∏è"

# --- Developer Breakglass (Emergency Recovery) ---
DEVELOPER_BREAKGLASS_EMAIL="emergency-dev@company.com"
DEVELOPER_BREAKGLASS_PASSWORD="‚ö†Ô∏èDIFFERENT-STRONG-PASSWORD‚ö†Ô∏è"

# ============================================================================
# CATEGORY 2: DEVELOPMENT ‚Üí PRODUCTION TRANSITION
# ============================================================================
# These control whether the system is in "easy testing mode" or "secure mode"

# --- Development Mode (Set to TRUE during development) ---
# When TRUE: Any email/password works for testing
# When FALSE: Only real credentials work (REQUIRED for production)
DEV_ACCEPT_ANY_PROVIDER_LOGIN="true"    # ‚ö†Ô∏è Set to FALSE in production
DEV_ACCEPT_ANY_DEVELOPER_LOGIN="true"   # ‚ö†Ô∏è Set to FALSE in production
DEV_ACCEPT_ANY_TENANT_LOGIN="true"      # ‚ö†Ô∏è Set to FALSE in production
DEV_ACCEPT_ANY_ACCOUNTANT_LOGIN="true"  # ‚ö†Ô∏è Set to FALSE in production
DEV_ACCEPT_ANY_VENDOR_LOGIN="true"      # ‚ö†Ô∏è Set to FALSE in production

# --- Database Connection ---
# Development: Use placeholder or local database
# Production: Use your Neon PostgreSQL connection string
DATABASE_URL="postgresql://user:password@localhost:5432/streamflow?schema=public"

# --- Node Environment ---
# Development: "development"
# Production: "production"
NODE_ENV="development"

# ============================================================================
# CATEGORY 3: HAND-OFF TO CLIENT (When You Deliver the System)
# ============================================================================
# These are settings the CLIENT will configure when they take over

# --- Client Email Service (For their password resets, notifications) ---
# They'll need to sign up for SendGrid, AWS SES, or Resend
# EMAIL_SERVICE_PROVIDER="sendgrid"
# EMAIL_SERVICE_API_KEY="client-will-set-this"
# EMAIL_FROM="noreply@clientdomain.com"
# EMAIL_FROM_NAME="Client Company Name"

# --- Client SMS Service (Optional - for their SMS verification) ---
# They'll need to sign up for Twilio or AWS SNS
# SMS_SERVICE_PROVIDER="twilio"
# SMS_SERVICE_API_KEY="client-will-set-this"
# SMS_SERVICE_ACCOUNT_SID="client-will-set-this"
# SMS_FROM="+1234567890"

# --- Client Branding (Their company colors, logo, etc) ---
# These will be set in the database per-tenant, not environment variables

# ============================================================================
# CATEGORY 4: SECURITY & ENCRYPTION (Provider Responsibility)
# ============================================================================
# YOU generate these once and keep them secure

# --- Master Encryption Key (For breakglass account encryption) ---
# Generate with: openssl rand -hex 32
# NEVER change this after setting it - you'll lose access to encrypted data
BREAKGLASS_MASTER_KEY="‚ö†Ô∏èGENERATE-WITH-OPENSSL-RAND-HEX-32‚ö†Ô∏è"

# --- JWT Secret (For token signing if using JWT) ---
# Generate with: openssl rand -hex 64
JWT_SECRET="‚ö†Ô∏èGENERATE-WITH-OPENSSL-RAND-HEX-64‚ö†Ô∏è"

# ============================================================================
# CATEGORY 5: SYSTEM FEATURES (Provider Controls)
# ============================================================================
# These control what features are enabled system-wide

# --- Federation (Provider-to-Provider SSO) ---
FED_ENABLED="false"
FED_OIDC_ENABLED="false"

# --- OIDC Configuration (When federation is enabled) ---
# OIDC_PROVIDER_ISSUER="https://your-idp.example.com"
# OIDC_CLIENT_ID="your-client-id"
# OIDC_CLIENT_SECRET="your-client-secret"
# OIDC_REDIRECT_URI="https://your-app.vercel.app/api/auth/oidc/callback"
# OIDC_SCOPE="openid profile email"

# --- Rate Limiting (Prevent abuse) ---
RATE_LIMIT_API_PER_MINUTE="60"
RATE_LIMIT_AUTH_PER_MINUTE="20"
RATE_LIMIT_RECOVERY_PER_HOUR="5"
MAX_LOGIN_ATTEMPTS="5"
LOGIN_LOCKOUT_DURATION_MINUTES="30"

# --- Session Configuration ---
SESSION_MAX_AGE_DAYS="30"
SESSION_COOKIE_SECURE="true"
IDEMPOTENCY_TTL_MINUTES="1440"

# ============================================================================
# CATEGORY 6: OPTIONAL INTEGRATIONS (Provider or Client)
# ============================================================================

# --- Stripe (If using payments) ---
# STRIPE_SECRET_KEY="sk_live_..."
# STRIPE_PUBLISHABLE_KEY="pk_live_..."
# STRIPE_WEBHOOK_SECRET="whsec_..."

# --- Analytics (If using analytics service) ---
# ANALYTICS_API_KEY="your-analytics-key"

# --- Monitoring (If using error tracking) ---
# SENTRY_DSN="your-sentry-dsn"

# ============================================================================
# QUICK REFERENCE: WHAT TO CHANGE WHEN
# ============================================================================
#
# WHEN STARTING DEVELOPMENT:
# ‚úÖ Keep all DEV_ACCEPT_ANY_*_LOGIN="true"
# ‚úÖ Use placeholder DATABASE_URL
# ‚úÖ Skip email/SMS setup
#
# WHEN DEPLOYING TO PRODUCTION:
# ‚ö†Ô∏è Set all DEV_ACCEPT_ANY_*_LOGIN="false"
# ‚ö†Ô∏è Set real DATABASE_URL (Neon PostgreSQL)
# ‚ö†Ô∏è Change all passwords to strong, unique values
# ‚ö†Ô∏è Generate BREAKGLASS_MASTER_KEY and JWT_SECRET
# ‚ö†Ô∏è Set up email service (SendGrid/AWS SES)
# ‚ö†Ô∏è Set NODE_ENV="production"
#
# WHEN HANDING OFF TO CLIENT:
# üìã Give them instructions for:
#    - Setting up their email service
#    - Setting up their SMS service (optional)
#    - Configuring their branding in the app
#    - Managing their tenant users
# üìã They do NOT need provider/developer credentials
# üìã They do NOT need to change system settings
#
# ============================================================================
